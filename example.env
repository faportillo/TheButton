# =============================================================================
# TheButton - Environment Variables
# =============================================================================
# Copy this file to .env and adjust values as needed:
#   cp example.env .env
# =============================================================================

# =============================================================================
# API Configuration
# =============================================================================
# Environment: dev or prod
API_ENV=dev

# =============================================================================
# Reducer Configuration
# =============================================================================
# Environment: dev or prod
REDUCER_ENV=dev

# Backoff settings (optional, defaults shown)
# REDUCER_BACKOFF_MAX_ATTEMPTS=3
# REDUCER_BACKOFF_BASE_SECONDS=1.0
# REDUCER_MAX_BACKOFF_SECONDS=30.0

# Path to rules file (optional, default: /run/secrets/rules.json)
# REDUCER_RULES_PATH=/run/secrets/rules.json

# =============================================================================
# PostgreSQL
# =============================================================================
POSTGRES_USER=thebutton
POSTGRES_PASSWORD=thebutton
POSTGRES_DB=thebutton
POSTGRES_PORT=5432

# Database URL (REQUIRED - used by API and Reducer)
DATABASE_URL=postgresql://thebutton:thebutton@localhost:5432/thebutton

# =============================================================================
# Redis
# =============================================================================
# Option 1: Host/Port configuration (for development)
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password  # Uncomment for password-protected Redis

# Option 2: Full URL (preferred for production)
# REDIS_URL=redis://localhost:6379/0
# REDIS_URL=redis://:password@hostname:6379/0  # With password

# =============================================================================
# Kafka
# =============================================================================
# Kafka broker URL (REQUIRED)
KAFKA_BROKER_URL=localhost:9092

# Port for Docker Kafka service
KAFKA_PORT=9092

# Production only - Confluent Cloud credentials (required when *_ENV=prod)
# KAFKA_API_KEY=your-api-key
# KAFKA_API_SECRET=your-api-secret

# =============================================================================
# Docker: Kafka Controller (used by docker-compose)
# =============================================================================
# KAFKA_CONTROLLER_PORT=9093
# KAFKA_ADVERTISED_HOST=localhost
# KAFKA_CLUSTER_ID=MkU3OEVBNTcwNTJENDM2Qk

# =============================================================================
# Optional: Admin UI Ports (used with `make docker-up-all`)
# =============================================================================
KAFKA_UI_PORT=8080
REDIS_COMMANDER_PORT=8081
PGADMIN_PORT=8082
PGADMIN_EMAIL=admin@thebutton.local
PGADMIN_PASSWORD=admin
